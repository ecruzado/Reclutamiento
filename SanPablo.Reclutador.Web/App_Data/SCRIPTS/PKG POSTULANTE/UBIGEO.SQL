--DROP TABLE UBIGEO CASCADE CONSTRAINTS;

CREATE TABLE UBIGEO
(
	IDEUBIGEO        NUMBER(8),
	IDEUBIGEOPADRE   NUMBER(8),
	NOMBRE           VARCHAR2(50),
	CODIGO           VARCHAR2(50),
	ESTACTIVO		     VARCHAR2(1),
	USRCREACION      VARCHAR2(15),
	FECCREACION      DATE,
	USRMODIFICACION  VARCHAR2(15),
	FECMODIFICACION  DATE
)
;

COMMENT ON TABLE UBIGEO IS 'Tabla de ubicaciones geográficas';
COMMENT ON COLUMN UBIGEO.IDEUBIGEO        IS 'identificador de registro';
COMMENT ON COLUMN UBIGEO.NOMBRE           IS 'nombre del ubigeo';
COMMENT ON COLUMN UBIGEO.CODIGO           IS 'codigo del ubigeo';
COMMENT ON COLUMN UBIGEO.USRCREACION      IS 'Usuario Creacion del registro.';
COMMENT ON COLUMN UBIGEO.FECCREACION      IS 'Fecha de creacion del registro.';
COMMENT ON COLUMN UBIGEO.USRMODIFICACION  IS 'Usuario de modificacion del registro.';
COMMENT ON COLUMN UBIGEO.FECMODIFICACION  IS 'Fecha de modificacion.';

ALTER TABLE UBIGEO ADD CONSTRAINT UBIGEO_PK PRIMARY KEY (IDEUBIGEO); 

ALTER TABLE UBIGEO ADD CONSTRAINT UBIGEO_UBIGEO_FK FOREIGN KEY (IDEUBIGEOPADRE) REFERENCES UBIGEO (IDEUBIGEO);

ALTER TABLE UBIGEO MODIFY NOMBRE CONSTRAINT UBIGEO_NOMBRE_NN NOT NULL;

ALTER TABLE UBIGEO MODIFY CODIGO CONSTRAINT UBIGEO_CODIGO_NN NOT NULL;

CREATE INDEX UBIGEO_IDX_1 ON UBIGEO(IDEUBIGEO);


