--DROP TABLE DETALLE_GENERAL CASCADE CONSTRAINTS;
CREATE TABLE DETALLE_GENERAL
(
	IDEGENERAL         NUMBER(4), 
	VALOR              VARCHAR2(50),
	DESCRIPCION        VARCHAR2(50),
	ESTACTIVO          VARCHAR2(1), 
	USRCREACION        VARCHAR2(15), 
	FECCREACION        DATE, 
	USRMODIFICA        VARCHAR2(15), 
	FECMODIFICA        DATE 
);

COMMENT ON TABLE DETALLE_GENERAL IS 'Tabla de detalle de la tabla general';
COMMENT ON COLUMN DETALLE_GENERAL.IDEGENERAL         IS 'Identificador de la tabla general';
COMMENT ON COLUMN DETALLE_GENERAL.VALOR              IS 'Valor del detalle';
COMMENT ON COLUMN DETALLE_GENERAL.DESCRIPCION        IS 'Nombre del detalle';
COMMENT ON COLUMN DETALLE_GENERAL.ESTACTIVO          IS 'Indicador de estado A(activo) y I(inactivo)';
COMMENT ON COLUMN DETALLE_GENERAL.USRCREACION        IS 'Usuario de creacion';
COMMENT ON COLUMN DETALLE_GENERAL.FECCREACION        IS 'Fecha de creacion';
COMMENT ON COLUMN DETALLE_GENERAL.USRMODIFICA        IS 'Usuario de modificacion';
COMMENT ON COLUMN DETALLE_GENERAL.FECMODIFICA        IS 'Fecha de modificación';

ALTER TABLE DETALLE_GENERAL ADD CONSTRAINT DETALLE_GENERAL_PK 
	PRIMARY KEY (IDEGENERAL,VALOR) 
;

ALTER TABLE DETALLE_GENERAL ADD CONSTRAINT FK_DETALLE_GENERAL_GENERAL 
	FOREIGN KEY (IDEGENERAL) REFERENCES GENERAL (IDEGENERAL)
;

ALTER TABLE DETALLE_GENERAL MODIFY DESCRIPCION CONSTRAINT DETALLE_GENERAL_DESCRIPCION_NN NOT NULL ;

ALTER TABLE DETALLE_GENERAL MODIFY ESTACTIVO CONSTRAINT DETALLE_GENERAL_ESTACTIVO_NN NOT NULL ;

CREATE INDEX DETALLE_GENERAL_IDX_1 ON DETALLE_GENERAL(IDEGENERAL,VALOR,ESTACTIVO);
