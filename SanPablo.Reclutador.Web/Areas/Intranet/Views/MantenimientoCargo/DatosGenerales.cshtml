@using SanPablo.Reclutador.Entity
@model SanPablo.Reclutador.Web.Areas.Intranet.Models.MantenimientoCargoViewModel
@{
       ViewBag.Title = "Mantenimiento Cargo";
}

@using (Html.BeginForm("DatosGenerales", "MantenimientoCargo", FormMethod.Post, new { @id = "datosGeneralesForm" }))
{
<!--PUESTO -->
     @Html.ValidationSummary(true)
    <form class="formulario-busqueda">
        <div class =" span10">
            <table >
            <tr class="formulario-fila">
                <td class="control-label">
                    <label class="control-label" for="inputSuccess">Nombre Cargo</label>
                </td>
                <td class="controls">
                    @Html.TextBoxFor(model => model.Cargo.NombreCargo)
                </td>        
                <td class="colEtiqueta" style="width:130px;text-align:right">
                    <label class="control-label" for="inputSuccess">Descripcion Cargo</label>
                </td>
                <td class ="colImput">
                    @Html.TextBoxFor(model=>model.Cargo.DescripcionCargo)
                </td>
            </tr>
            <tr class="formulario-fila">
                <td class="colEtiqueta">
                    <label class="control-label" for="inputSuccess">Núm. Posiciones</label>
                </td>
                <td class="colImput">
                    @Html.TextBoxFor(model => model.Cargo.NumeroPosiciones, new { @class = "input-xmini text-right"})
                </td>
                
            </tr>
        </table>
        <div class="formulario-accion">   
            <div class="opciones">
        <a id="btnGrabarDatosGenerales" class="btn btn-info"><i class="icon-hdd icon-white"></i> Grabar</a>   
        </div>    
       </div>  
     </div>
   </form>
}
<!--PUESTO FIN -->



@section ScriptsCargo{ 
  
  <script type="text/javascript">
    $(function () {

        //PERFIL PUESTO
        $('#btnGrabarDatosGenerales').click(function () {
            mostrarconfirmacion();
        });

        $('#updateDialog').dialog({
            autoOpen: false,
            width: 600,
            resizable: false,
            modal: true,
            buttons: {
                "Grabar": function (e) {
                    e.preventDefault();
                    var result = $('#ofrecemosForm').valid();
                    if (result) {
                        $.post('@Url.Action("DatosGenerales", "MantenimientoCargo")',
                                $("#datosGeneralesForm").serialize(),
                                function (respuesta) {
                                    if (respuesta.Resultado) {
                                        $("#updateDialog").dialog("close");
                                       // $('#grdListOfrecemos').trigger('reloadGrid');
                                    }
                                    else {
                                        notificacionError(respuesta.Mensaje)

                                    }
                                }
                            );
                    }
                    else {
                        notificacionError("ERROR: --");

                    }
                },
                "Cancelar": function () {
                    $(this).dialog("close");
                }
            }
        });

    });

      function mostrarconfirmacion() {
          var dialogDiv = $('#updateDialog');
              dialogDiv.dialog('open');
          //return false;
      }

  </script>

}

